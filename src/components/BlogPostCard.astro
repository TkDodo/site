---
import type { CollectionEntry } from "astro:content";
import FormattedDate from "./FormattedDate.astro";
import TagRow from "./TagRow.astro";

type Props = {
  post: CollectionEntry<"blog">;
  highlight?: string | null | undefined;
};

const {
  post: {
    data: { title, pubDate, tags },
    slug,
  },
  highlight,
} = Astro.props;
---

<div class="relative">
  <a href={`/blog/${slug}/`} transition:name={`${title} ${pubDate} card`}>
    <div
      class="border-2 border-black rounded-md relative after:absolute after:top-[10px] after:left-[10px] after:w-full after:h-full after:bg-svg2 after:-z-10 after:rounded-md after:transition-top after:duration-300 hover:after:-top-[10px]"
      id="outer"
    >
      <div
        class="w-full h-full p-3 flex flex-col items-start bg-svg1 bg-white relative z-10"
      >
        <h4 class="font-bold text-lg text-wrap">
          <span class="blur-target" transition:name={title}>{title}</span>
        </h4>
        <div class="py-1"></div>
        <p class="text-sm italic">
          <span class="blur-target" transition:name={`${title} ${pubDate}`}>
            <FormattedDate date={pubDate} />
          </span>
        </p>
      </div>
    </div>
  </a>
  <TagRow
    tags={tags}
    articleName={title}
    class="absolute bottom-2 right-2 z-10"
    highlight={highlight}
  />
</div>
