---
import { cn } from "@/content/utils";
import type { CollectionEntry } from "astro:content";

type Props = {
  tags: CollectionEntry<"blog">["data"]["tags"];
  articleName: string;
  class?: string;
  highlight?: string | undefined | null;
};

const { tags, articleName, class: className, highlight } = Astro.props;
---

<div class={className}>
  {
    tags?.map((tag) => (
      <a href={`/blog/tags/${tag}`}>
        <p
          class={cn(
            `blur-target-no-hover relative inline-block rounded-xl border border-black px-1
            text-sm hover:bg-black hover:text-white hover:filter-none
            hover:before:bg-transparent hover:before:filter-none`,
            {
              "bg-black text-white filter-none before:bg-transparent before:filter-none":
                highlight === tag,
            },
          )}
          transition:name={`${articleName} - tag -${tag}`}
        >
          {tag}
        </p>
      </a>
    ))
  }
</div>
