---
import { getCollection } from "astro:content";
import BlogPostCard from "@/components/BlogPostCard.astro";

type Props = {
  limit?: number;
};

const posts = (await getCollection("blog")).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);

const { limit } = Astro.props;

const slicedPosts = limit ? posts.slice(0, limit) : posts;
---

<ul class="flex flex-col gap-y-5 items-start">
  {
    slicedPosts.map((post) => (
      <li>
        <BlogPostCard {...post} />
      </li>
    ))
  }
</ul>
